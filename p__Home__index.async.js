(self.webpackChunkjoymoe_sn=self.webpackChunkjoymoe_sn||[]).push([[371],{63281:function(je,le,t){"use strict";t.r(le),t.d(le,{default:function(){return Ke}});var ve=t(15009),d=t.n(ve),me=t(99289),h=t.n(me),pe=t(5574),b=t.n(pe),_=t(67294),ce={homeContainer:"homeContainer___eHIYI",wrapper:"wrapper___pLpbR"},Z={windowContainer:"windowContainer___mXWJE",windowHeader:"windowHeader___jk7fD",windowButtonContainer:"windowButtonContainer___BUwrZ",windowButton:"windowButton___nvAMS",windowButtonRed:"windowButtonRed___gHwPG",windowButtonYellow:"windowButtonYellow___VPdmm",windowButtonGreen:"windowButtonGreen___e9II2",windowTitle:"windowTitle___mrTv2",windowContent:"windowContent___UX59U"},V=t(94184),ne=t.n(V),e=t(85893),he=function(g){var S=g.title,B=g.content;return(0,e.jsxs)("div",{className:Z.windowContainer,children:[(0,e.jsxs)("div",{className:Z.windowHeader,children:[(0,e.jsxs)("div",{className:Z.windowButtonContainer,children:[(0,e.jsx)("div",{className:ne()(Z.windowButton,Z.windowButtonRed)}),(0,e.jsx)("div",{className:ne()(Z.windowButton,Z.windowButtonYellow)}),(0,e.jsx)("div",{className:ne()(Z.windowButton,Z.windowButtonGreen)})]}),(0,e.jsx)("div",{className:Z.windowTitle,children:S})]}),(0,e.jsx)("div",{className:Z.windowContent,children:B})]})},se=he,ae=t(6510),te=t(33009),fe=t(75081),$=t(25538),ue={loginContainer:"loginContainer___wCY4c",loginButton:"loginButton___vtcrV"},O=t(71577),ge=function(g){var S=g.setLoading,B=g.setDeviceOauth,s=g.setOauthWindow,T=(0,ae.useIntl)();return(0,e.jsx)("div",{className:ue.loginContainer,children:(0,e.jsx)(O.ZP,{block:!0,type:"primary",size:"large",className:ue.loginButton,onClick:h()(d()().mark(function Y(){var A,E,K,j;return d()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return S(!0),D.next=3,(0,$.xU)();case 3:A=D.sent,E=A.response,K=A.data,(E==null?void 0:E.status)===200&&(B(K),j=window.open(K==null?void 0:K.verification_uri_complete,"JoyID Oauth","width=600,height=800"),s(j));case 7:case"end":return D.stop()}},Y)})),children:T.formatMessage({id:"home.window.login"})})})},re=ge,C={inputContainer:"inputContainer___cpnpX",userContainer:"userContainer___zcz3t",userAvatar:"userAvatar___aQxZH",avatarImage:"avatarImage___TjqVh",userName:"userName___YDzXD",description:"description___KHfhr",alert:"alert___wKz6i",licenceKey:"licenceKey____QBlz",licenceKeyItem:"licenceKeyItem___kWip3",licenceKeyItemTitle:"licenceKeyItemTitle___xaDZL",licenceKeyItemContent:"licenceKeyItemContent___gT1kO",licenceKeyInput:"licenceKeyInput___zJk7o"},ee=t(38925),we=t(29789),ie=t(91749),m=t.n(ie),c=function(g){var S,B,s=g.userInfo,T=g.licenseKey,Y=g.setLicenseKey,A=g.setLoading,E=g.setLicenseList,K=g.openNotificationWithIcon,j=(0,_.useState)(!1),N=b()(j,2),D=N[0],oe=N[1],x=(0,ae.useIntl)();return(0,e.jsxs)("div",{className:C.inputContainer,children:[(0,e.jsxs)("div",{className:C.userContainer,children:[(0,e.jsx)("div",{className:C.userAvatar,children:(0,e.jsx)("object",{title:s==null?void 0:s.nickname,data:s==null?void 0:s.picture,type:"image/png",className:C.avatarImage,children:(0,e.jsx)("img",{src:"https://static.joymoe.com/images/acgnch/default_avatar.png",alt:s==null?void 0:s.nickname,className:C.avatarImage})})}),(0,e.jsx)("div",{className:C.userName,children:s!=null&&s.nickname&&(s==null||(S=s.nickname)===null||S===void 0?void 0:S.length)>6?(s==null||(B=s.nickname)===null||B===void 0?void 0:B.slice(0,5))+"...":s==null?void 0:s.nickname}),(0,e.jsx)("div",{className:C.userLogout,children:(0,e.jsx)(O.ZP,{danger:!0,onClick:function(){localStorage.removeItem("JoyID:access_token"),window.location.reload()},children:x.formatMessage({id:"home.window.logout"})})})]}),(0,e.jsx)("div",{className:C.description,children:(0,e.jsx)(ee.Z,{message:x.formatMessage({id:"home.window.description"}),type:"info",showIcon:!0,className:C.alert})}),(0,e.jsxs)("div",{className:C.licenceKey,children:[(0,e.jsxs)("div",{className:C.licenceKeyItem,children:[(0,e.jsx)("div",{className:C.licenceKeyItemTitle,children:x.formatMessage({id:"home.window.licenceKey"})}),(0,e.jsx)("div",{className:C.licenceKeyItemContent,children:(0,e.jsx)(m(),{type:"text",className:C.licenceKeyInput,placeholder:"AAAA-BBBB-CCCC-DDDD-EEEE-FFFF-GGGG",value:T==null?void 0:T.toUpperCase(),onChange:function(z){Y(z.target.value)},mask:[/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,"-",/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,"-",/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,"-",/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,"-",/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,"-",/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,"-",/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/,/[0-9a-zA-Z]/]})})]}),(0,e.jsx)("div",{className:C.licenceKeyItem,children:(0,e.jsx)("div",{className:C.licenceKeyItemTitle,children:(0,e.jsxs)(we.Z,{checked:D,onChange:function(z){oe(z.target.checked)},children:[x.formatMessage({id:"home.window.licenceKeyAgree"}),(0,e.jsx)("a",{href:"https://www.joymoe.com/product-termsofuse/",target:"_blank",rel:"noopener noreferrer",children:x.formatMessage({id:"home.window.licenceKeyAgreeLink"})})]})})}),(0,e.jsx)("div",{className:C.licenceKeyItem,children:(0,e.jsx)(O.ZP,{block:!0,type:"primary",size:"large",className:C.licenceKeySubmit,onClick:h()(d()().mark(function X(){var z,L,q;return d()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(A(!0),!(T&&D)){u.next=33;break}if(/^[0-9a-z]{4}(-([0-9a-z]{4})){6}$/i.test(T)){u.next=6;break}return K("error",x.formatMessage({id:"home.window.licenceKeyInvalid"})),A(!1),u.abrupt("return");case 6:return u.prev=6,u.next=9,(0,$.kc)(T);case 9:if(z=u.sent,L=z.response,q=z.data,(L==null?void 0:L.status)!==200){u.next=16;break}return A(!1),E(q),u.abrupt("return");case 16:if((L==null?void 0:L.status)!==404){u.next=20;break}return A(!1),K("error",x.formatMessage({id:"home.window.licenceKeyInvalid"})),u.abrupt("return");case 20:if(!((L==null?void 0:L.status)===403||(L==null?void 0:L.status)===401)){u.next=25;break}return A(!1),K("error",x.formatMessage({id:"home.window.tokenInvalid"})),localStorage.removeItem("JoyID:access_token"),u.abrupt("return");case 25:u.next=31;break;case 27:u.prev=27,u.t0=u.catch(6),A(!1),K("error",u.t0.message);case 31:u.next=35;break;case 33:A(!1),K("error",x.formatMessage({id:"home.window.empty"}));case 35:case"end":return u.stop()}},X,null,[[6,27]])})),children:x.formatMessage({id:"home.window.submit"})})})]})]})},y=c,v=t(9783),p=t.n(v),I=t(97857),f=t.n(I),l={assetsContainer:"assetsContainer___XDP0N",userContainer:"userContainer___CbBun",userAvatar:"userAvatar___D8fvT",avatarImage:"avatarImage___F0Y8l",userName:"userName___iRMiO",description:"description___bbdEP",alert:"alert___WZ7Tb",changeKey:"changeKey___zoDsa",assetsList:"assetsList___wj19v",assetsItem:"assetsItem___B8J1S",assetsItemSelect:"assetsItemSelect___jv9h9",select:"select___YCLrd",activateButton:"activateButton___sIe1V",resourcesContainer:"resourcesContainer___i6njJ",resourceItem:"resourceItem___FFTKb",resourceInput:"resourceInput___irDtg",resourceButton:"resourceButton___KYNr3",assetsItemButton:"assetsItemButton___bhbqI",assetsItemUsed:"assetsItemUsed___Bvv5R",assetsItemAvailable:"assetsItemAvailable___y2Cap",tourTitle:"tourTitle___CvlFC",tourDescription:"tourDescription____w0fm"},ke=t(22674),_e=t(4760),ye=t(72e3),Ce=t(54399),Ne=t(78374),be=t(20640),Ae=t.n(be),Le=function(g){var S,B,s=g.userInfo,T=g.licenseKey,Y=g.licenseList,A=g.loading,E=g.setLicenseList,K=g.setLicenseKey,j=g.setLoading,N=g.openNotificationWithIcon,D=(0,_.useRef)(null),oe=(0,_.useState)(!0),x=b()(oe,2),X=x[0],z=x[1],L=(0,_.useState)({activate:[],exchange:new Map}),q=b()(L,2),R=q[0],u=q[1],w=(0,ae.useIntl)(),Q=function(){var n=h()(d()().mark(function P(){var J,r,M;return d()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return j(!0),E([]),u({activate:[],exchange:new Map}),i.prev=3,i.next=6,(0,$.kc)(T);case 6:if(J=i.sent,r=J.response,M=J.data,(r==null?void 0:r.status)!==200){i.next=13;break}return j(!1),E(M),i.abrupt("return");case 13:if((r==null?void 0:r.status)!==404){i.next=17;break}return j(!1),N("error",w.formatMessage({id:"home.window.licenceKeyInvalid"})),i.abrupt("return");case 17:if(!((r==null?void 0:r.status)===403||(r==null?void 0:r.status)===401)){i.next=22;break}return j(!1),N("error",w.formatMessage({id:"home.window.tokenInvalid"})),localStorage.removeItem("JoyID:access_token"),i.abrupt("return");case 22:i.next=28;break;case 24:i.prev=24,i.t0=i.catch(3),j(!1),N("error",i.t0.message);case 28:case"end":return i.stop()}},P,null,[[3,24]])}));return function(){return n.apply(this,arguments)}}();return(0,e.jsxs)(ke.Z,{content:s==null?void 0:s.nickname,children:[(0,e.jsxs)("div",{className:l.assetsContainer,children:[(0,e.jsxs)("div",{className:l.userContainer,children:[(0,e.jsx)("div",{className:l.userAvatar,children:(0,e.jsx)("object",{title:s==null?void 0:s.nickname,data:s==null?void 0:s.picture,type:"image/png",className:l.avatarImage,children:(0,e.jsx)("img",{src:"https://static.joymoe.com/images/acgnch/default_avatar.png",alt:s==null?void 0:s.nickname,className:l.avatarImage})})}),(0,e.jsx)("div",{className:l.userName,children:s!=null&&s.nickname&&(s==null||(S=s.nickname)===null||S===void 0?void 0:S.length)>6?(s==null||(B=s.nickname)===null||B===void 0?void 0:B.slice(0,5))+"...":s==null?void 0:s.nickname}),(0,e.jsx)("div",{className:l.userLogout,children:(0,e.jsx)(O.ZP,{danger:!0,onClick:function(){localStorage.removeItem("JoyID:access_token"),window.location.reload()},children:w.formatMessage({id:"home.window.logout"})})})]}),(0,e.jsxs)("div",{className:l.description,children:[(0,e.jsx)(ee.Z,{message:T,className:l.alert,type:"success"}),(0,e.jsx)(O.ZP,{block:!0,danger:!0,size:"large",className:l.changeKey,onClick:function(){E([]),K("")},children:w.formatMessage({id:"home.window.changeKey"})})]}),(0,e.jsxs)("div",{className:l.assetsList,ref:D,children:[Y==null?void 0:Y.map(function(n){var P,J,r,M,G,i=[{label:w.formatMessage({id:"home.window.selectList.none"}),value:"none"},{label:w.formatMessage({id:"home.window.selectList.acgn"}),value:"acgn"}];return n==null||(P=n.claimables)===null||P===void 0||P.map(function(o){i.push({label:w.formatMessage({id:"home.window.selectList."+o.toLowerCase()}),value:o.toLowerCase()})}),(0,e.jsx)(_e.Z,{title:n==null||(r=n.product)===null||r===void 0?void 0:r.name,className:ne()(l.assetsItem,n!=null&&n.redemption_date?l.assetsItemUsed:l.assetsItemAvailable),loading:A,actions:n!=null&&(M=n.resources)!==null&&M!==void 0&&M.length?[n==null||(G=n.resources)===null||G===void 0?void 0:G.map(function(o){return(0,e.jsx)("div",{className:l.resourcesContainer,children:(0,e.jsx)(_e.Z,{type:"inner",title:o==null?void 0:o.title,className:l.resourceItem,extra:o==null?void 0:o.type,children:(0,e.jsxs)(ye.Z.Group,{compact:!0,children:[(0,e.jsx)(ye.Z,{readOnly:!0,defaultValue:o==null?void 0:o.details,className:l.resourceInput,onClick:function(){o!=null&&o.details&&(Ae()(o==null?void 0:o.details),N("success",w.formatMessage({id:"home.window.copy.success"})))}}),(0,e.jsx)(O.ZP,{block:!0,ghost:!0,type:"primary",className:l.resourceButton,onClick:function(){window.open("https://store.steampowered.com/account/registerkey?key="+(o==null?void 0:o.details))},children:w.formatMessage({id:"home.window.resourceButton"})})]})})})})]:[],children:n!=null&&n.redemption_date?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ee.Z,{message:w.formatMessage({id:"home.window.alert.used"}),description:w.formatMessage({id:"home.window.alert.used.description"}),type:"success",showIcon:!0})}):(0,e.jsx)("div",{className:l.assetsItemSelect,children:(0,e.jsx)(Ce.Z,{size:"large",defaultValue:"none",options:i,className:l.select,onChange:function(k){var U;if(k==="none"){u(function(a){var F;return f()(f()({},a),{},{activate:a==null||(F=a.activate)===null||F===void 0?void 0:F.filter(function(W){return W!==(n==null?void 0:n.id)}),exchange:f()(f()({},a==null?void 0:a.exchange),{},p()({},n==null?void 0:n.id,void 0))})});return}if(n!=null&&(U=n.product)!==null&&U!==void 0&&U.id&&k==="acgn"){u(function(a){return f()(f()({},a),{},{activate:a==null?void 0:a.activate.concat(n==null?void 0:n.id),exchange:f()(f()({},a==null?void 0:a.exchange),{},p()({},n==null?void 0:n.id,void 0))})});return}else{u(function(a){return f()(f()({},a),{},{activate:a==null?void 0:a.activate.filter(function(F){return F!==(n==null?void 0:n.id)}),exchange:f()(f()({},a==null?void 0:a.exchange),{},p()({},n==null?void 0:n.id,k))})});return}}})})},n==null||(J=n.product)===null||J===void 0?void 0:J.id)}),(0,e.jsx)("div",{className:l.assetsItemButton,children:(0,e.jsx)(O.ZP,{block:!0,type:"primary",size:"large",className:l.activateButton,onClick:h()(d()().mark(function n(){var P;return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(j(!0),!T){r.next=17;break}if(r.prev=2,Object.values(R==null?void 0:R.exchange).every(function(M){return M===void 0})){r.next=6;break}return(0,$.ak)(T,R).then(function(){var M=h()(d()().mark(function G(i){var o,k;return d()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((i==null||(o=i.response)===null||o===void 0?void 0:o.status)!==200){a.next=7;break}return j(!1),N("success",w.formatMessage({id:"home.window.exchange.success"})),a.next=5,Q();case 5:a.next=18;break;case 7:if((i==null||(k=i.response)===null||k===void 0?void 0:k.status)!==400){a.next=14;break}return j(!1),N("error",w.formatMessage({id:"home.window.exchange.error"})),a.next=12,Q();case 12:a.next=18;break;case 14:return j(!1),N("error",w.formatMessage({id:"home.window.server.error"})),a.next=18,Q();case 18:case"end":return a.stop()}},G)}));return function(G){return M.apply(this,arguments)}}()),r.abrupt("return");case 6:if(!(R!=null&&(P=R.activate)!==null&&P!==void 0&&P.length)){r.next=9;break}return(0,$.tl)(T,R).then(function(){var M=h()(d()().mark(function G(i){var o,k;return d()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((i==null||(o=i.response)===null||o===void 0?void 0:o.status)!==200){a.next=7;break}return j(!1),N("success",w.formatMessage({id:"home.window.activate.success"})),a.next=5,Q();case 5:a.next=18;break;case 7:if((i==null||(k=i.response)===null||k===void 0?void 0:k.status)!==400){a.next=14;break}return j(!1),N("error",w.formatMessage({id:"home.window.activate.error"})),a.next=12,Q();case 12:a.next=18;break;case 14:return j(!1),N("error",w.formatMessage({id:"home.window.server.error"})),a.next=18,Q();case 18:case"end":return a.stop()}},G)}));return function(G){return M.apply(this,arguments)}}()),r.abrupt("return");case 9:j(!1),N("error",w.formatMessage({id:"home.window.select.empty"})),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(2),j(!1),N("error",r.t0===null||r.t0===void 0?void 0:r.t0.message);case 17:case"end":return r.stop()}},n,null,[[2,13]])})),children:w.formatMessage({id:"home.window.activateSelected"})})})]})]}),(0,e.jsx)(Ne.Z,{title:(0,e.jsx)("div",{className:l.tourTitle,children:w.formatMessage({id:"home.window.tour.title.main.title"})}),centered:!0,open:X,maskClosable:!1,closeIcon:null,footer:(0,e.jsx)(O.ZP,{block:!0,type:"primary",size:"large",onClick:function(){z(!1)},children:w.formatMessage({id:"home.window.tour.title.main.button"})}),onCancel:function(){z(!1)},children:(0,e.jsx)("div",{className:l.tourDescription,children:w.formatMessage({id:"home.window.tour.title.main.content"})})})]})},Te=Le,xe=function(){var g=(0,_.useState)(),S=b()(g,2),B=S[0],s=S[1],T=(0,_.useState)(),Y=b()(T,2),A=Y[0],E=Y[1],K=(0,_.useState)(),j=b()(K,2),N=j[0],D=j[1],oe=(0,_.useState)([]),x=b()(oe,2),X=x[0],z=x[1],L=(0,_.useState)(!0),q=b()(L,2),R=q[0],u=q[1],w=(0,_.useState)(null),Q=b()(w,2),n=Q[0],P=Q[1],J=(0,ae.useIntl)(),r=te.Z.useNotification(),M=b()(r,2),G=M[0],i=M[1],o=function(U,a){G[U]({message:U.toUpperCase(),description:a})};return(0,_.useEffect)(function(){try{(0,$.o0)().then(function(k){var U=k.response,a=k.data;U.status===200&&D(a)}),u(!1)}catch(k){o("error",k.message)}},[]),(0,_.useEffect)(function(){if(n){n.focus();var k=setInterval(h()(d()().mark(function U(){var a,F,W;return d()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.prev=0,H.next=3,(0,$.YT)(A==null?void 0:A.device_code);case 3:a=H.sent,F=a.response,W=a.data,(F==null?void 0:F.status)===200&&W!=null&&W.access_token&&(n.close(),P(null),clearInterval(k),localStorage.setItem("JoyID:access_token",W==null?void 0:W.access_token),(0,$.o0)(W==null?void 0:W.access_token).then(function(Ie){var Me=Ie.response,Se=Ie.data;Me.status===200&&D(Se)})),u(!1),H.next=13;break;case 10:H.prev=10,H.t0=H.catch(0),o("error",H.t0.message);case 13:case"end":return H.stop()}},U,null,[[0,10]])})),1e3)}},[n]),(0,e.jsxs)("div",{className:ce.homeContainer,children:[i,(0,e.jsx)("div",{className:ce.wrapper,children:(0,e.jsx)(se,{title:J.formatMessage({id:"home.window.title"}),content:(0,e.jsx)(fe.Z,{tip:J.formatMessage({id:"home.window.loading"}),spinning:R,children:N?(0,e.jsx)(e.Fragment,{children:X.length?(0,e.jsx)(Te,{licenseList:X,userInfo:N,licenseKey:B,loading:R,setLicenseList:z,setLicenseKey:s,setLoading:u,openNotificationWithIcon:o}):(0,e.jsx)(y,{userInfo:N,setLicenseKey:s,setLicenseList:z,licenseKey:B,setLoading:u,openNotificationWithIcon:o})}):(0,e.jsx)(re,{setLoading:u,setDeviceOauth:E,setOauthWindow:P})})})})]})},Ke=xe},25538:function(je,le,t){"use strict";t.d(le,{YT:function(){return ae},ak:function(){return ue},kc:function(){return fe},o0:function(){return ne},tl:function(){return ge},uu:function(){return we},vC:function(){return C},xU:function(){return he}});var ve=t(15009),d=t.n(ve),me=t(97857),h=t.n(me),pe=t(99289),b=t.n(pe),_=t(61696),ce=t(11238),Z=function(c){var y=c.response,v=y===void 0?{}:y,p=c.data,I=p===void 0?{}:p;return{response:v,data:I}},V=(0,ce.l7)({errorHandler:Z,credentials:"same-origin"});function ne(m,c){return e.apply(this,arguments)}function e(){return e=b()(d()().mark(function m(c,y){var v;return d()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return v=localStorage.getItem("JoyID:access_token"),I.abrupt("return",V("".concat(_.k.oauth,"/Api/Profile"),h()(h()({method:"GET",headers:{"Content-Type":"application/json",Authorization:v?"Bearer ".concat(c||v):""}},y||{}),{},{getResponse:!0})));case 2:case"end":return I.stop()}},m)})),e.apply(this,arguments)}function he(m,c){return se.apply(this,arguments)}function se(){return se=b()(d()().mark(function m(c,y){var v;return d()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return v=localStorage.getItem("JoyID:access_token"),I.abrupt("return",V("".concat(_.k.oauth,"/Connect/Device"),h()(h()({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:v?"Bearer ".concat(c||v):""},data:{client_id:_.I.id,client_secret:_.I.secret,scope:"profile https://gw.imoto.sh/karin"}},y||{}),{},{getResponse:!0,requestType:"form"})));case 2:case"end":return I.stop()}},m)})),se.apply(this,arguments)}function ae(m,c,y){return te.apply(this,arguments)}function te(){return te=b()(d()().mark(function m(c,y,v){var p;return d()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return p=localStorage.getItem("JoyID:access_token"),f.abrupt("return",V("".concat(_.k.oauth,"/Connect/Token"),h()(h()({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:p?"Bearer ".concat(y||p):""},data:{client_id:_.I.id,client_secret:_.I.secret,grant_type:"urn:ietf:params:oauth:grant-type:device_code",device_code:c}},v||{}),{},{getResponse:!0,requestType:"form"})));case 2:case"end":return f.stop()}},m)})),te.apply(this,arguments)}function fe(m,c,y){return $.apply(this,arguments)}function $(){return $=b()(d()().mark(function m(c,y,v){var p;return d()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return p=localStorage.getItem("JoyID:access_token"),f.abrupt("return",V("".concat(_.k.api,"/karin/license:query"),h()(h()({method:"POST",headers:{"Content-Type":"application/json",Authorization:p?"Bearer ".concat(y||p):""},data:{key:c==null?void 0:c.toUpperCase()}},v||{}),{},{getResponse:!0})));case 2:case"end":return f.stop()}},m)})),$.apply(this,arguments)}function ue(m,c,y,v){return O.apply(this,arguments)}function O(){return O=b()(d()().mark(function m(c,y,v,p){var I;return d()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return I=localStorage.getItem("JoyID:access_token"),l.abrupt("return",V("".concat(_.k.api,"/karin/license:exchange"),h()(h()({method:"POST",headers:{"Content-Type":"application/json",Authorization:I?"Bearer ".concat(v||I):""},data:{key:c==null?void 0:c.toUpperCase(),subs:y.exchange}},p||{}),{},{getResponse:!0})));case 2:case"end":return l.stop()}},m)})),O.apply(this,arguments)}function ge(m,c,y,v){return re.apply(this,arguments)}function re(){return re=b()(d()().mark(function m(c,y,v,p){var I;return d()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return I=localStorage.getItem("JoyID:access_token"),l.abrupt("return",V("".concat(_.k.api,"/karin/rights"),h()(h()({method:"POST",headers:{"Content-Type":"application/json",Authorization:I?"Bearer ".concat(v||I):""},data:{key:c==null?void 0:c.toUpperCase(),subs:y.activate}},p||{}),{},{getResponse:!0})));case 2:case"end":return l.stop()}},m)})),re.apply(this,arguments)}function C(m){return ee.apply(this,arguments)}function ee(){return ee=b()(d()().mark(function m(c){return d()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",V("/api/notice.json",h()(h()({method:"GET",headers:{"Content-Type":"application/json"}},c||{}),{},{getResponse:!0})));case 1:case"end":return v.stop()}},m)})),ee.apply(this,arguments)}function we(m,c){return ie.apply(this,arguments)}function ie(){return ie=b()(d()().mark(function m(c,y){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",V(c,h()(h()({method:"GET",headers:{"Content-Type":"application/json"}},y||{}),{},{getResponse:!0})));case 1:case"end":return p.stop()}},m)})),ie.apply(this,arguments)}},24654:function(){}}]);
